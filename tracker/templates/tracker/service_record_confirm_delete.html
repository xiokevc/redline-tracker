{% extends "tracker/base.html" %}
{% load static %}
{% include 'tracker/navbar.html' %}

{% block title %}Delete Service Record{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'tracker/css/service_record_confirm_delete.css' %}">
{% endblock %}

{% block content %}
<div class="delete-record-container">
    <h2>Delete Service Record</h2>
    <p>
        Are you sure you want to delete this service record for
        <strong>{{ object.vehicle }}</strong>
        on <strong>{{ object.date }}</strong>?
    </p>

    <form method="post" class="delete-form">
        {% csrf_token %}
        <button type="submit" class="btn-confirm">Yes, delete</button>

        {# Cancel button safely redirects even if vehicle is missing #}
        {% if object.vehicle %}
            <a href="{% url 'tracker:vehicle-detail' object.vehicle.pk %}" class="btn-cancel">Cancel</a>
        {% else %}
            <a href="{% url 'tracker:vehicle-list' %}" class="btn-cancel">Cancel</a>
        {% endif %}
    </form>
</div>
{% endblock %}
